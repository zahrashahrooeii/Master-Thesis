{% extends 'layout.html' %}
{% block content %}

<div class="container">
    <h2 class="text-center fw-bold my-4">Dashboard</h2>

    <!-- ✅ Alert Box Container (Dynamically Updated by JavaScript) -->
    <div id="alertBox" class="container mt-3"></div>


    <!-- ✅ Sensor Data Card -->
    <div class="card shadow-lg p-4 mb-4">
        <h4 class="card-title"><i class="fas fa-satellite"></i> Sensor Data</h4>
        <div id="sensorDataContainer">
            <!-- JavaScript will inject sensor data here -->
        </div>
    </div>

    <!-- ✅ Historical Data Chart -->
    <h3 class="text-center my-4">Sensor Data Chart</h3>
    <div class="text-center">
        <button class="btn btn-lg btn-primary" onclick="fetchHistoricalData()">
            <i class="fas fa-database"></i> Load Historical Data
        </button>
    </div>

    <div class="chart-container" style="position: relative; height:500px; width:100%;">
        <canvas id="sensorChart"></canvas> <!-- Chart.js will use this -->
    </div>
</div>

{% endblock %}
